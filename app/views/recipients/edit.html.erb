<h1>Edit Recipient</h1>

<% if @recipient.errors.any? %>
  <div class="error-messages" style="border: 1px solid #f00; padding: 0.75rem; margin-bottom: 1rem;">
    <h2><%= pluralize(@recipient.errors.count, "error") %> prevented this recipient from being saved:</h2>
    <ul>
      <% @recipient.errors.full_messages.each do |msg| %>
        <li><%= msg %></li>
      <% end %>
    </ul>
  </div>
<% end %>

<%= form_with model: @recipient, local: true do |f| %>
  <div>
    <%= f.label :name, "Name" %><br>
    <%= f.text_field :name %>
  </div>

  <div>
    <%= f.label :birthday, "Birthday (if known)" %><br>
    <%= f.date_field :birthday %>
  </div>
  
  <div style="margin-top: 0.75rem;">
    <%= f.label :age_range, "Select Age Group" %><br>
    <%= f.select :age_range,
      options_for_select(Recipient::AGE_RANGES.keys, @recipient.age_range),
      include_blank: "Select Age Group" %>
  </div>
  

  <div>
    <%= f.label :gender, "Gender" %><br>
    <%= f.select :gender, [["Male", "male"], ["Female", "female"], ["Other", "other"]] %>
  </div>

  <div>
    <%= f.label :relation, "Relation" %><br>
    <%= f.text_field :relation %>
  </div>

  <div>
    <%= f.label :occupation, "Occupation (optional)" %><br>
    <%= f.text_field :occupation %>
  </div>

  <div>
    <%= f.label :hobbies, "Hobbies (optional)" %><br>
    <%= f.text_area :hobbies, rows: 3 %>
  </div>

  <div>
    <%= f.label :extra_info, "Extra Information (optional)" %><br>
    <%= f.text_area :extra_info, rows: 4 %>
  </div>

  <div>
    <%= f.label :likes, "Likes", class: "block font-semibold mb-2" %>

    <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-x-6 gap-y-3">
      <%= f.collection_check_boxes :likes, Recipient::LIKES_OPTIONS, :to_s, :to_s do |b| %>
        <label class="inline-flex items-center space-x-2">
          <%= b.check_box(class: "checkbox checkbox-primary") %>
          <span><%= b.text %></span>
        </label>
      <% end %>
    </div>
  </div>


  <div>
    <%= f.label :likes, "Dislikes", class: "block font-semibold mb-2" %>

    <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-x-6 gap-y-3">
      <%= f.collection_check_boxes :likes, Recipient::DISLIKES_OPTIONS, :to_s, :to_s do |b| %>
        <label class="inline-flex items-center space-x-2">
          <%= b.check_box(class: "checkbox checkbox-primary") %>
          <span><%= b.text %></span>
        </label>
      <% end %>
    </div>
  </div>

  <div>
    <%= f.submit "Update Recipient" %>
  </div>
<% end %>

<%= link_to "Back to Recipients", recipients_path %>
<%= link_to "Back to Home", homepage_path %>
